<html>

<head>
<title>Pick a button</title>
</head>

<script type="text/javascript">

var counterA = 0;
var counterB = 0;

  function maybeDisableIt() {
    var cb = document.getElementById("mycheckbox");
    var ba = document.getElementById("buttonA");
    var bb = document.getElementById("buttonB");
    if (cb.checked) {
      ba.disabled = true;
      bb.disabled = true;
      return true;
    }
    return false;
  }
  
  function setResult(amount, done, button) {
    var res = document.getElementById("result");
    var msg;
    if (done) {
      msg = "You got " + amount + " GBP. ";
      msg = msg + "This was your final result. You tried button A " + counterA + " times and ";
      msg = msg + "button B " + counterB + " times.";
      msg = msg + "In the end you chose button " + button + ". Thanks for playing!";
    } else {
      msg = "You tried button " + button + ".";
      msg = msg + "You would have got " + amount + " GBP. ";
      msg = msg + "Click again to try again."
    }
    res.innerHTML = msg;
  }
  
  function randomizeA() {
    done = maybeDisableIt();
    if (! done) counterA = counterA + 1;
    setResult(30, done, "A");
  }
  
  function randomizeB() {

    done = maybeDisableIt();
    if (! done) counterB = counterB + 1;
    var res;
    if (Math.random() < 0.8) {
      res = 40;
    } else {
      res = 0;
    }
    setResult(res, done, "B")
  }
</script>
<body>

<p></p>
<p></p>
<p>
Please choose one of the two options. You can try each option as many times as you want.
</p>
<p>
When you are ready to make your final choice, tick the checkbox. NB: you can only do this once!
</p>
<form id="myform">
  <input type="button" onclick="randomizeA()" id="buttonA" value="Option A">
  <input type="button" onclick="randomizeB()" id="buttonB" value="Option B">
<input type="checkbox" value="Final choice" id="mycheckbox">This is my final choice!
</form>

<p></p>
<div id="result">
  
</div>

</body>
</html>
